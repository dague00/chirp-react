(this["webpackJsonpchirp-react"]=this["webpackJsonpchirp-react"]||[]).push([[0],{231:function(e,t,n){},260:function(e,t){},262:function(e,t){},273:function(e,t){},275:function(e,t){},302:function(e,t){},304:function(e,t){},305:function(e,t){},310:function(e,t){},312:function(e,t){},318:function(e,t){},320:function(e,t){},339:function(e,t){},351:function(e,t){},354:function(e,t){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),r=n(87),s=n.n(r),i=(n(231),n(17)),o=n(130),u=n(14),l=n(425),p=n(423),j=n(424),d=n(5),b=n.n(d),h=n(11),f=n(15),m=n.p+"static/media/defaultUserImage.4aa827c3.png",x=n(36),O=n(28),v=n.n(O),g="SET_USER",A="SET_UNAUTHENTICATED",w="SET_LOADING",y="SET_ERROR",N="SET_SUCCESS",S="USER_LOADING",C="USER_FAIL",E="USER_SUCCESS",U="http://chirper.hopto.org:3000",k=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:S}),t.next=4,v.a.get("".concat(U,"/user/").concat(e));case 4:c=t.sent,n({type:E,payload:c.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:C});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:S}),c={bio:e.bio},t.next=5,v.a.put("".concat(U,"/user/").concat(e.username,"/bio"),c).then((function(e){n({type:E,payload:e.data})})).catch((function(e){console.log(e)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:C});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:S}),t.next=4,v.a.post("".concat(U,"/user"),e).then((function(e){n({type:E,payload:e.data})})).catch((function(e){console.log(e)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n({type:C});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:S}),c={data:{username:e}},t.next=5,v.a.delete("".concat(U,"/user/").concat(e),c).then((function(e){n({type:E,payload:e.data})})).catch((function(e){console.log(e)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:C});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},L=n(77),D=function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(c){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.signIn(e.username,e.password);case 3:(a=n.sent)&&(r={username:a.getUsername(),password:e.password},c({type:g,payload:r})),console.log("LOOK: ",a),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),t(),c(G(n.t0.message)),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},P=function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(c){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L.a.signUp(e.username,e.password);case 3:(a=n.sent).user&&(r={username:e.username,password:e.password},c({type:g,payload:r})),console.log(a.user),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t(),c({type:y,payload:n.t0});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},B=function(){return function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(M(!0)),e.next=4,L.a.signOut();case 4:t({type:A}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(M(!1));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},G=function(e){return function(t){t({type:y,payload:e})}},M=function(e){return function(t){t({type:w,payload:e})}},W=n(2),Q=function(){var e,t,n,c=Object(f.c)((function(e){return e.user})),r=Object(f.b)(),s=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(B());case 2:window.location.href="/";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){x.a.currentAuthenticatedUser({bypassCache:!1}).then((function(e){var t;t=e.username,r(k(t))})).catch((function(e){return console.log(e)}))}),[]),Object(W.jsxs)("div",{id:"user-box",className:"p-0",children:[Object(W.jsx)(p.a,{id:"user-box-img",children:Object(W.jsx)(j.a,{children:Object(W.jsx)("img",{id:"user-img",alt:"pfp",src:m})})}),Object(W.jsx)(p.a,{className:"mt-2 mb-3",id:"user-box-info",children:Object(W.jsxs)(j.a,{children:[Object(W.jsx)("h5",{className:"pt-2",id:"user-box-username",children:Object(W.jsxs)("a",{href:"/".concat(null===(e=c.user)||void 0===e?void 0:e.username),children:["@",null===(t=c.user)||void 0===t?void 0:t.username]})}),Object(W.jsx)("p",{children:null===(n=c.user)||void 0===n?void 0:n.bio})]})}),Object(W.jsxs)(p.a,{id:"user-box-settings",children:[Object(W.jsx)(j.a,{className:"settings-icon-col pt-2",children:Object(W.jsxs)("span",{children:[Object(W.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAD2ElEQVR4nO2bT0gVURTGf9VDpIWIhIhElIREC+mPoYiISLWQiBBpEa2ibas2ESLUJqJ1RCtpESIRVuLKcNfCxKSFIEVEWEpFpYTow8oWd6bmTTNv7sw9c2c0P/hA37tzzvnunfvv3PtgC/83tmXgsxXoCPnuFfDIYizWUQWsAOtl2GYzoO02nQE1QGVEmVobgbiwXQG5g+0KKGiUqUg9igxxi/L9fx0YY5NVQgVwDpggWrzLd0A/sFvDficwADQLxx2KVmAKuE35V7oOJWIBfeF+rgGPgVMhvrqBolN2CQszSJvjyA1wMCCwVuC+JzApzlH6VvQG+Ei1EvziXY4A7cB54r3mSfkT+Fbm+1QqIUx8XrmEehNF0LzBxLuc1BGnsw64hFrCbjQ8lzLUhfyAljaH0Ft0acM73eSdo9LiXZzOgTgd9sQRFWcv8ASYjWM8IxxMy3AF8JnsWziKH4jRBeK8AWeAXTHKZ4V6YnYDXYyRfevq8pmuKN2cYAPwGpn8wSowjlo2zzuf1QMtqCk3KmOki6PACyFb3MC8VZaBPlRaLAw1qA3PsoC/AQHdgBpQTLa068AM0BjDZ6PzjInPFYTGrB7DQGYo3+phqMG8Eq4m8PsPTAa/ZeK1vB+NmHWHOSLSazt8/zcBh4H9Di8DZw0EXAeGDZ7/ghp4uxI+XwUcA74D+1CadgIfgwp3Yz7w+PtgdcLAvagm+jAlLrtd495prUkgWC/GgUUBO4vAUwE7XvzRmua5wERObZUgzQqYjy6Sia0SbB2NpWi7Pqe2SpBmBbTk1BbAr6APO1AnMZLTYJIVoB/S0+Aa4Rc0qAMOediHOohI6qxfoAL6DAXfA44ABxzGvn8wZOA866XwWwS6eZtBAOtkuxm6ksBvIKYMA8liO7yG6tIiuGAYjNsd+ii/P6h2ykgkRB7qCNNNiVWitpYSCYZV1Np+EnjvfOamxI4jlxI7gfAe4ibmrWKLb0hhjbMXsynRJsUGPz+GcyAuimukeNfwZA4ERjEw2xOGuP0ktW2pIGpRB7niKKCmlqxbWIcreNJeUuIHcyAsDouoO4QiuJMDQUk4IFUB0zkQE5dLCN4ebWVj3RTL5K7gS8zPEHU4DVxEHZaM2BLvIqgSivyddgrO36PIrhqLqEG43RdPgdJ8hfX7wkXCp5s9wDXUJiqp8AXHRrmkaAG4i9qyi90OjUIzaoTt1ChbQN32DnpdwziBumK/qX43AGqTEiX+QWbRWUAD0RXQazMg2ydDgfl4H36kHoUHW0djlv19RaXEyuGTjUBcZPnT2aDKn2WT/3R2C3nDb3ddWF0jHZrxAAAAAElFTkSuQmCC",id:"settings-icon"}),Object(W.jsx)("a",{href:"/settings",children:"Settings"})]})}),Object(W.jsx)(j.a,{children:Object(W.jsx)("a",{href:"#",children:Object(W.jsx)("span",{className:"float-right mr-3 logout-btn btn",onClick:s,children:"Logout"})})})]})]})},F=n.p+"static/media/chirperIcon.8f1eea0a.png",H=n(129),z=v.a.create({baseURL:"http://chirper.hopto.org:3000/"}),X=function(){var e=a.a.useState(""),t=Object(i.a)(e,2),n=t[0],r=t[1],s=a.a.useState(""),o=Object(i.a)(s,2),u=o[0],l=o[1],d=Object(H.a)({min:8,max:30,digits:!0,lowercase:!0,uppercase:!0,symbols:!0,spaces:!1}),m=Object(i.a)(d,2),x=m[0],O=m[1],v=Object(H.a)({min:3,max:30,lowercase:!0,uppercase:!1,symbols:!1,spaces:!1}),g=Object(i.a)(v,2),A=g[0],w=g[1],y=a.a.useState(!0),N=Object(i.a)(y,2),S=N[0],C=N[1],E=a.a.useState(!1),U=Object(i.a)(E,2),k=U[0],I=U[1],T=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("/user/"+t);case 2:e.sent.data?C(!1):C(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=Object(f.b)(),D=Object(f.c)((function(e){return e.auth})).error;Object(c.useEffect)((function(){return function(){D&&L(G(""))}}),[D,L]);var B=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),e.next=4,L(P({username:n,password:u},(function(){return I(!1)})));case 4:return e.next=6,L(R({username:n,bio:"Go to settings to update your bio."}));case 6:!1===k&&(window.location.reload(),window.location.href="/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"authentication-box",children:[Object(W.jsxs)("h3",{className:"auth-title",children:[Object(W.jsx)("img",{src:F,className:"chirper-icon"}),"Sign up for chirper"]}),Object(W.jsxs)("form",{onSubmit:B,className:"auth-form",children:[Object(W.jsx)("input",{className:"form-validation login-input",name:"username",value:n,placeholder:"Username",onChange:function(e){r(e.currentTarget.value),w(e.currentTarget.value),T(e.currentTarget.value)}}),Object(W.jsx)("input",{className:"form-validation login-input",name:"password",value:u,placeholder:"Password",type:"password",onChange:function(e){l(e.currentTarget.value),O(e.currentTarget.value)}}),Object(W.jsxs)(p.a,{className:"pl-0 m0",children:[Object(W.jsx)(j.a,{className:"pt-3 pl-1 ml-0",children:Object(W.jsx)("span",{children:Object(W.jsx)("a",{href:"/",className:"auth-switch-text",children:"Already a user? Log in."})})}),Object(W.jsx)(j.a,{children:Object(W.jsx)("button",{className:"btn auth-btn",type:"submit",disabled:!x||!A||!S,children:"Sign up"})})]})]}),Object(W.jsxs)("div",{id:"passReq",children:[!A&&Object(W.jsx)("h6",{className:"notMet",children:"Username Requirements"}),A&&Object(W.jsx)("h6",{className:"met",children:"Username Requirements Have Been Met"}),Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{className:S?"met":"notMet",children:"Must be unique"}),Object(W.jsx)("li",{children:"Must be between 3 and 30 characters"}),Object(W.jsx)("li",{children:"Must have at least one lowercase letter"}),Object(W.jsx)("li",{children:"May have numbers"}),Object(W.jsx)("li",{children:"Must not have uppercase letters, symbols, or spaces"})]}),!x&&Object(W.jsx)("h6",{className:"notMet",children:"Password Requirements"}),x&&Object(W.jsx)("h6",{className:"met",children:"Password Requirements Have Been Met"}),Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{children:"Must be between 8 and 30 characters"}),Object(W.jsx)("li",{children:"Must have uppercase and lowercase letters"}),Object(W.jsx)("li",{children:"Must have at least one number"}),Object(W.jsx)("li",{children:"Must have at least one symbol"}),Object(W.jsx)("li",{children:"Must not contain spaces"})]})]})]})},V=n.p+"static/media/chirperLogo.972c66ea.png",Z=function(){var e=a.a.useState(""),t=Object(i.a)(e,2),n=t[0],r=t[1],s=a.a.useState(""),o=Object(i.a)(s,2),u=o[0],l=o[1],d=a.a.useState(!1),m=Object(i.a)(d,2),x=(m[0],m[1]),O=Object(f.b)(),v=Object(f.c)((function(e){return e.auth})).error;Object(c.useEffect)((function(){return function(){v&&O(G(""))}}),[v,O]);var g=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),e.next=4,O(D({username:n,password:u},(function(){x(!1)})));case 4:window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"authentication-box",children:[Object(W.jsx)("img",{src:V,className:"chirper-logo"}),Object(W.jsxs)("form",{onSubmit:g,className:"auth-form",children:[Object(W.jsx)("input",{className:"form-validation login-input",name:"username",value:n,placeholder:"Username",onChange:function(e){return r(e.currentTarget.value)}}),Object(W.jsx)("input",{className:"form-validation login-input",name:"password",value:u,placeholder:"Password",type:"password",onChange:function(e){return l(e.currentTarget.value)}}),Object(W.jsxs)(p.a,{className:"pl-0 m0",children:[Object(W.jsx)(j.a,{className:"pt-2 pl-0 ml-0",children:Object(W.jsx)("span",{children:Object(W.jsx)("a",{href:"/register",className:"auth-switch-text",children:"No account? Sign up"})})}),Object(W.jsx)(j.a,{children:Object(W.jsx)("button",{className:"btn auth-btn",type:"submit",children:"Log in"})})]})]})]})},q="CHIRPS_LOADING",K="CHIRPS_FAIL",J="CHIRPS_SUCCESS",Y=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,n({type:q}),t.next=5,z.post("/chirp",e).then((function(e){n({type:J,payload:e.data}),console.log(e)})).catch((function(e){console.log(e)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n({type:K});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:q}),t.next=4,z.delete("/chirp/".concat(e)).then((function(e){n({type:J,payload:e.data}),console.log(e)})).catch((function(e){console.log(e)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n({type:K});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADC0lEQVR4nO2bzWvUQBjGf+9aliJSSqlaLwrFgopn0ZMoXoTePIgfRy+Civ+B+CeIeBVFr6IHQVAQryJFKGJFRKsUES1+UUW2ZR8PyWKMs5vZmN1ptvlBIEzeDM88mXknm50xeoSkGnAIOAZMAhuAOjAUHy2GgGbiWAEawE/gHXALuGNmK73SWjiSxiU9UHHMSJoM3S4vJNUlPS6w8S3eSBoP3b5MJJ3rQeNbXC5arxVdoaQ5YEfR9cYsARvN7FdRFRZqgKStwFvHpQvAXaLk5kpmraRYi8+Hgd3AFf5OmAAHzOxREXoLR9JBR7f9pGhGyFPfE0d9p4rUnHbXJWIMmAZG+TON1RLHusT5dkcVTeCipDz6RhxlRyRt87j3B3DNzD50Cuo4BCSNAjNE83gZ+QzsM7OX7QKcXVPSsKRh4CTlbTzAGHC61R7XUHT2AEnL8Wmra5eZ1hsmwJSZzScvtssBmbmhRHR8iGV/uv/NmjegXVd/0VcV/aMRWkDFasPrt4CkIeAG5Zodzma9BYK/AXWiV8syGTBlZq+ygtb8LFAZEFpAaCoDQgsITdFZfQl4mCqbAPakyl4Dz1Jlk0SfwZLMAvOpsr3ApvwSc6DoU/eyx1fbOce90464S4648464M464ex46JMn1deof1vwQqAwILSA0lQGhBYSmMiC0gNBUBoQWEJrKgNACQlMZEFpAaCoDQgsITWVAaAGhqQwILaCHNLNDKgMG2gAvujHAy9Gy4WtAcqXVQFENgdACekjhSbAaAoPIICdBr01WvmuEasA3op1fnWgAC6my9UT/ECf5DiymykaA9J6gxTg2yURcZxZbilwkVQO+4F6/v1rZbGYfs4K8hoCZtfbzlQkvvd0kwTItM23iqbcbA9ruuliFvCfaeZpJNwZcz6clCDfjYZuJ97a5eLXoU2BXXlV9YhHYaWbpWcaJdw8wswbRRuivOYX1gwZwwrfx0OWboJnNAvuB510K6wcLwGEzu9/NTbl2jsbD4ThwlGh5Wz1PPQWwQtTw28BVM1vqtoLfPUVaUUszhtIAAAAASUVORK5CYII=",ee=function(){var e=a.a.useState({value:""}),t=Object(i.a)(e,2),n=t[0],c=t[1],r="",s=Object(f.b)(),o=function(){s(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),e.next=4,z.get("/chirp/all");case 4:n=e.sent,t({type:J,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:K});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},u=Object(f.c)((function(e){return e.user})),l=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.next=3,s(_(r));case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.a.useEffect((function(){x.a.currentAuthenticatedUser({bypassCache:!1}).then((function(e){return t=e.username,void s(k(t));var t})).catch((function(e){return console.log(e)}))}),[]);var d=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(Y({username:null===(t=u.user)||void 0===t?void 0:t.username,body:n.value,timestamp:String(Date.now()),likes:[],comments:[]}));case 2:c({value:""}),o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.a.useEffect((function(){return o()}),[]);var O=Object(f.c)((function(e){return e.chirps}));return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{id:"main-component-title",children:[Object(W.jsx)("span",{children:"All chirps"}),Object(W.jsx)("a",{href:"/",children:Object(W.jsx)("img",{src:V,id:"user-chirper-logo"})})]}),Object(W.jsxs)("div",{id:"post-chirp",children:[Object(W.jsx)("h5",{id:"new-chirp-label",children:"Post a new chirp"}),Object(W.jsx)("textarea",{value:n.value,onChange:function(e){c({value:e.currentTarget.value})},className:"new-chirp-input form-validation"}),Object(W.jsx)("br",{}),Object(W.jsx)("button",{onClick:d,className:"new-chirp-button btn",children:"Post"})]}),O.chirps&&O.chirps.sort((function(e,t){return Number(e.timestamp)<Number(t.timestamp)?1:-1})).map((function(e,t){return Object(W.jsx)("div",{className:"chirp",children:Object(W.jsxs)(p.a,{className:"mr-0",children:[Object(W.jsx)(j.a,{xs:"2",children:Object(W.jsx)("img",{className:"chirp-user-img",alt:"pfp",src:m})}),Object(W.jsxs)(j.a,{className:"ml-0 pl-0",xs:"8",children:[Object(W.jsx)("span",{className:"chirp-user",children:Object(W.jsxs)("a",{href:"/".concat(e.username),children:["@",e.username]})}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{className:"chirp-body",children:e.body}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{className:"chirp-time",children:new Date(Number(e.timestamp)).toLocaleString()})]}),Object(W.jsx)(j.a,{xs:"2",children:function(){var t;if((null===(t=u.user)||void 0===t?void 0:t.username)==e.username)return console.log(e.username),Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("button",{className:"delete-button",onClick:function(){r=e.timestamp,l()},children:Object(W.jsx)("img",{src:$,height:"18px"})})})}()})]})},t)})),Object(W.jsx)("p",{className:"text-center pt-4 pb-2",children:"No more chirps to show."})]})},te=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({value:""}),s=Object(i.a)(r,2),o=s[0],u=s[1],l=Object(c.useState)(""),p=Object(i.a)(l,2),j=p[0],d=p[1],m=Object(f.b)();Object(c.useEffect)((function(){x.a.currentAuthenticatedUser({bypassCache:!1}).then((function(e){a(e.username)})).catch((function(e){console.log(e)}))}),[]);var O=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(I({username:n,bio:o.value}));case 2:u({value:""}),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delete"!==j.toLowerCase()){e.next=10;break}return e.next=3,m(T(n));case 3:return e.next=5,void x.a.currentAuthenticatedUser().then((function(e){m(B()),e.deleteUser((function(e,t){e?console.log("User deletion error: "+e):console.log("User deletion result: "+t)}))})).catch((function(e){console.log(e)}));case 5:return e.next=7,m(B());case 7:window.location.href="/",e.next=11;break;case 10:console.log("Delete has not been typed.");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{id:"main-component-title",children:[Object(W.jsx)("span",{children:"Settings"}),Object(W.jsx)("a",{href:"/",children:Object(W.jsx)("img",{src:V,id:"user-chirper-logo"})})]}),Object(W.jsxs)("div",{id:"settings-content-wrapper",children:[Object(W.jsxs)("div",{id:"update-bio",children:[Object(W.jsx)("h5",{id:"update-bio-label",children:"Update your bio"}),Object(W.jsx)("textarea",{value:o.value,onChange:function(e){u({value:e.currentTarget.value})},className:"new-bio-input form-validation"}),Object(W.jsx)("br",{}),Object(W.jsx)("button",{onClick:O,className:"new-bio-button btn",children:"Update"})]}),Object(W.jsxs)("div",{id:"delete-account",children:[Object(W.jsx)("h5",{id:"update-bio-label",children:"Delete your account"}),Object(W.jsx)("p",{children:"Are you sure you want to delete your account? Deleting your account is permanent and cannot be undone."}),Object(W.jsxs)("p",{children:["Type in ",Object(W.jsx)("strong",{children:"delete"})," in the textbox below to confirm deletion."]}),Object(W.jsx)("input",{value:j,onChange:function(e){d(e.currentTarget.value)},className:"delete-account-confirmation form-validation"}),Object(W.jsx)("br",{}),Object(W.jsx)("button",{onClick:v,disabled:!("delete"===j),className:"delete-account-button btn",children:"Delete"})]})]})]})},ne="CHIRPS_LOADING",ce="CHIRPS_FAIL",ae="CHIRPS_SUCCESS",re=function(){var e=Object(f.c)((function(e){return e.user})),t=Object(f.b)(),n=Object(f.c)((function(e){return e.userChirps})),c="",r=function(){t(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ne}),e.next=4,z.get(window.location.pathname);case 4:n=e.sent,t({type:ae,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:ce});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},s=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),e.next=3,t(_(c));case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){return r()}),[]),console.log(n.chirps),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{id:"user-chirps-box",children:[Object(W.jsx)("img",{id:"user-img-title",alt:"profile pic",src:m}),Object(W.jsxs)("span",{id:"user-chirp-title",children:["Chirps by ",Object(W.jsxs)("strong",{children:["@",window.location.pathname.slice(1)]})]}),Object(W.jsx)("a",{href:"/",children:Object(W.jsx)("img",{src:V,id:"user-chirper-logo"})})]}),Object(W.jsxs)("div",{id:"user-chirps-wrapper",className:"pt-5 mt-5",children:[n.chirps&&n.chirps.sort((function(e,t){return Number(e.timestamp)<Number(t.timestamp)?1:-1})).map((function(t,n){return Object(W.jsx)("div",{className:"chirp user-chirps",children:Object(W.jsxs)(p.a,{children:[Object(W.jsx)(j.a,{xs:"2",children:Object(W.jsx)("img",{className:"chirp-user-img",alt:"profile pic",src:m,width:"64px"})}),Object(W.jsxs)(j.a,{className:"ml-0 pl-0",xs:"8",children:[Object(W.jsxs)("span",{className:"chirp-user",children:["@",t.username]}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{className:"chirp-body",children:t.body}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{className:"chirp-time",children:new Date(Number(t.timestamp)).toLocaleString()})]}),Object(W.jsx)(j.a,{xs:"2",children:function(){var n;if((null===(n=e.user)||void 0===n?void 0:n.username)==t.username)return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("button",{className:"delete-button",onClick:function(){c=t.timestamp,s()},children:Object(W.jsx)("img",{src:$,height:"18px"})})})}()})]})},n)})),Object(W.jsx)("p",{className:"text-center pt-4 pb-2",children:"No more chirps to show."})]})]})};n(384),n(385),n(386);var se=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.a.useEffect((function(){x.a.currentAuthenticatedUser({bypassCache:!1}).then((function(e){return r(e.username)})).catch((function(e){return console.log(e)}))}),[]),""===n?Object(W.jsx)(l.a,{fluid:!0,className:"flex main-container text-light",children:Object(W.jsxs)(p.a,{children:[Object(W.jsx)(j.a,{xs:"4"}),Object(W.jsx)(j.a,{xs:"8",className:"main-component-col",children:Object(W.jsx)("div",{className:"main-component-box",children:Object(W.jsx)(o.a,{children:Object(W.jsxs)(u.c,{children:[Object(W.jsx)(u.a,{exact:!0,path:"/register",component:X}),Object(W.jsx)(u.a,{path:"/",component:Z})]})})})})]})}):Object(W.jsx)(l.a,{fluid:!0,className:"flex main-container text-light",children:Object(W.jsxs)(p.a,{children:[Object(W.jsx)(j.a,{xs:"4",className:"user-col",children:Object(W.jsx)(Q,{})}),Object(W.jsx)(j.a,{xs:"8",className:"main-component-col",children:Object(W.jsx)("div",{className:"main-component-box",children:Object(W.jsx)(o.a,{children:Object(W.jsxs)(u.c,{children:[Object(W.jsx)(u.a,{exact:!0,path:["/","/home"],component:ee}),Object(W.jsx)(u.a,{exact:!0,path:"/settings",component:te}),Object(W.jsx)(u.a,{exact:!0,path:"/:user",component:re})]})})})})]})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,427)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},oe=n(128),ue=n(98),le=n(61),pe=n(217),je=n(218),de=n(25),be={user:null,authenticated:!1,loading:!1,error:"",success:""},he={loading:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!1};case q:return{loading:!0};case J:return{loading:!1,chirps:t.payload};default:return e}},me={loading:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!1};case S:return{loading:!0};case E:return{loading:!1,user:t.payload};default:return e}},Oe={loading:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{loading:!1};case ne:return{loading:!0};case ae:return{loading:!1,chirps:t.payload};default:return e}},ge=Object(le.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(de.a)(Object(de.a)({},e),{},{user:t.payload,authenticated:!0});case w:return Object(de.a)(Object(de.a)({},e),{},{loading:t.payload});case A:return Object(de.a)(Object(de.a)({},e),{},{user:null,authenticated:!1,loading:!1});case y:return Object(de.a)(Object(de.a)({},e),{},{error:t.payload});case N:return Object(de.a)(Object(de.a)({},e),{},{success:t.payload});default:return e}},chirps:fe,user:xe,userChirps:ve}),Ae=Object(le.createStore)(ge,Object(pe.composeWithDevTools)(Object(le.applyMiddleware)(je.a)));oe.default.configure({Auth:{mandatorySignId:!0,region:ue.cognito.REGION,userPoolId:ue.cognito.USER_POOL_ID,userPoolWebClientId:ue.cognito.APP_CLIENT_ID}}),s.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(f.a,{store:Ae,children:Object(W.jsx)(se,{})})}),document.getElementById("root")),ie()},98:function(e){e.exports=JSON.parse('{"cognito":{"REGION":"us-east-2","USER_POOL_ID":"us-east-2_splEJrZfs","APP_CLIENT_ID":"7p5v94ohigea0sd5ghkt2mlkfj"}}')}},[[397,1,2]]]);
//# sourceMappingURL=main.f3991f7d.chunk.js.map